const Person = require('./person-model')const {validatePersonData} = require('./person-utils')const getSecondValue = (array) => array[1]?.slice(1)const getPerson = async (req, res) => {  const personId = getSecondValue(req.pathnameParts)  if (!personId) res.send(await Person.find())  try {    res.send(await Person.findById(personId))  } catch (e) {    res.end('null')  }  res.end()}const createPerson = async (req, res) => {  try {    if (validatePersonData(req.body)) {      const person = await Person.create(req.body)      res.send(person)    } else {      res.end()    }  } catch (e) {    res.end(e.message)  }}const updatePerson = async (req, res) => {  const personId = getSecondValue(req.pathnameParts)  if (!personId) res.end('Error: person ID required.')  try {    res.send(await Person.findByIdAndUpdate(personId, req.body, {returnDocument: 'after'}))  } catch (e) {    res.end(e.message)  }}const deletePerson = async (req, res) => {  const personId = getSecondValue(req.pathnameParts)  if (!personId) res.end('Error: person ID required.')  try {    res.send(await Person.findByIdAndDelete(personId))  } catch (e) {    res.end(e.message)  }}module.exports = {getPerson, createPerson, updatePerson, deletePerson}